CREATE TABLE postac (id INTEGER PRIMARY KEY NOT NULL, imie varchar(40), rodzaj enum('wiking', 'ptak','kobieta'), data_ur date, wiek integer unsigned);
insert into postac values (1, "bjorn", "wiking", '2022-10-27', 3000);
insert into postac values (2, "drozd", "ptak", '2022-10-27', 3);
insert into postac values (3, "tesciowa", "kobieta", '2022-10-27', 87);
update postac set wiek=88 where imie="tesciowa";
create table walizka (id_walizki integer primary key not null auto_increment, pojemnosc integer unsigned, kolor enum("rozowy","teczowy","zolty"), id_wlasciciela integer, foreign key(id_wlasciciela) references postac(id)  on delete cascade);
alter table walizka alter kolor set default "rozowy";
mysql> insert into walizka values(2, 50, "teczowy", 1);
mysql> insert into walizka values(3, 20, "rozowy", 3);
create table izba(adres_budynku integer, nazwa_izby varchar(40), metaz integer unsigned, wlasciciel integer, foreign key(wlasciciel) references postac(id) on delete set null, primary key(adres_budynku, nazwa_izbselecty));
alter table izba add kolor_izby varchar(40) default "czarny" after metaz;
insert into izba values(1,"spizarnia",25,1);
create table przetwory (id_przetworu integer primary key, rok_produkcji year default (1654), id_wykonawcy integer, foreign key(id_wykonawcy) references postac(id), zawartosc varchar(40), dodatek varchar(40) default "papryczka chilli", id_konsumenta integer, foreign key(id_konsumenta) references postac(id));  
insert into przetwory values(1,null,null,"bigos z paprczka chilli","papryczka chilli",null);  <--- tylko tak działa, gdy pomijam wartość domyślną dostaję column dosent match
insert into postac values(4, "floki","wiking",'2002-11-5',14);
insert into postac values(5, "ragnar","wiking",'1900-11-5',114);
insert into postac values(6, "Haraldson","wiking",'1999-11-5',27);
insert into postac values(7, "Rolo","wiking",'1995-11-5',34);
insert into postac values(8, "Ivar","wiking",'2024-11-5',11);
create table statek (nazwa_statku varchar(100) primary key, rodzaj_statku enum("prom","kontenerowiec","jacht","kajak","motorowka","lodka","kosmiczny"), data_wodowania date, max_ladownosc integer unsigned);
insert into statek values("czarna perla", "jacht", '2022-11-10', 1000);
insert into statek values("biala perla", "lodka", '2022-11-5', 12000);
alter table postac add funkcja varchar(50);
update postac set funkcja="kapitan" where imie="bjorn";
alter table postac add id_statku varchar(100), add foreign key(id_statku) references statek(nazwa_statku);
update postac set id_statku="czarna perla" where rodzaj="wiking" and imie="drozd";
delete from izba where nazwa_izby="spizarnia";
drop table izba;
delete from postac where rodzaj="wiking" and wiek=114 or wiek=34;
alter table przetwory drop foreign key przetwory_ibfk_1;
alter table przetwory drop foreign key przetwory_ibfk_2;
alter table walizka drop foreign key walizka_ibfk_1;
alter table postac drop primary key;
alter table postac drop id;
przy każdym używałem 'show create table <nazwa>;
alter table postac add pesel varchar(11) not null;
update postac set pesel="12345678901" where imie='bjorn';
update postac set pesel="12345678902" where imie='tesciowa';
update postac set pesel="12345678903" where imie='drozd';
update postac set pesel="12345678904" where imie='floki';
update postac set pesel="12345678905" where imie='Haraldson';
update postac set pesel="12345678906" where imie='Ivar';
alter table postac add primary key(pesel);
alter table postac modify column rodzaj enum('wiking','kobieta', 'ptak','syrena');
insert into postac (pesel, imie, rodzaj) values ('66666666666','Gertruda Nieszczera', 'syrena');
update postac set statek='biala perla' where imie='bjorn';
update postac set statek='biala perla' where imie like '%a%';
update statek set max_ladownosc=max_ladownosc*0.7 where data_wodowania like '19%';
create table marynarz like postac;
insert into marynarz select * from postac where statek is not null;
update postac set statek=null where statek is not null;
delete from postac where imie='floki';
delete from statek where nazwa_statku is not null;
drop table statek;
insert into zwierz(nazwa,wiek) select imie, wiek from postac where rodzaj='ptak';
create table kreatura as select * from wikingowie.kreatura;
create table zasob as select * from wikingowie.zasob;
create table ekwipunek as select * from wikingowie.ekwipunek;
select * from zasob;
select * from zasob where rodzaj='jedzenie';
select distinct zasob.idZasobu, zasob.ilosc from zasob, kreatura where kreatura.idKreatury=1 or kreatura.idKreatury=3 or kreatura.idKreatury=5;
select * from kreatura where rodzaj!='wiedzma' and udzwig >=50;
select * from zasob where waga between 2 and 5;
select nazwa from kreatura where nazwa like '%or%' and udzwig between 30 and 70;
select nazwa from zasob where month(dataPozyskania) between 7 and 8;
select * from zasob where rodzaj is not null order by waga;
select * from kreatura order by dataUr  limit 5;
select distinct rodzaj from zasob;
select concat(nazwa, " - ", rodzaj) as razem from kreatura where rodzaj like '%wi%';
select (ilosc*waga) as calkowita_waga, year(dataPozyskania) as rok from zasob having rok between 2000 and 2007;
select waga*0.7 as netto, waga*0.3 as odpad from zasob where rodzaj='jedzenie';
select * from zasob where rodzaj is null;
select distinct * from zasob where nazwa like 'Ba%' or '%os' order by nazwa;
